# 音频功能说明

## 新增功能

在react-management的"系统管理"-"模拟测试"中新增了实际音频数据发送/接收和播放的能力。

### 功能特性

1. **音频录制**
   - 支持麦克风音频录制
   - 自动重采样到16kHz（符合S2S协议要求）
   - 实时发送音频数据到服务器

2. **音频播放**
   - 自动播放服务器返回的音频响应
   - 支持24kHz音频播放
   - 使用AudioWorklet实现低延迟播放

3. **用户界面**
   - 音频录制状态指示器
   - 录制开始/停止按钮
   - 连接状态显示

### 使用方法

1. 连接到WebSocket服务器
2. 点击"Test Connection"发送测试序列
3. 测试成功后，点击"Start Recording"开始音频录制
4. 对着麦克风说话，系统会自动发送音频数据
5. 服务器的音频响应会自动播放
6. 点击"Stop Recording"停止录制

### 技术实现

- **音频录制**: 使用Web Audio API的ScriptProcessorNode进行实时音频处理
- **音频播放**: 使用AudioWorklet实现缓冲播放
- **数据格式**: PCM 16-bit，base64编码传输
- **采样率**: 录制16kHz，播放24kHz

### 注意事项

- 需要用户授权麦克风访问权限
- 建议使用Chrome或Firefox等现代浏览器
- 确保音频设备正常工作